!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),u=n(1),a=function(){function t(){r(this,t),this.ds=new s}return i(t,[{key:"get",value:function(t){return this.ds.get(t)}},{key:"exist",value:function(t){return this.ds.exist(t)}},{key:"find",value:function(t){return this.ds.find(t)}},{key:"create",value:function(t){var e=this.ds.exist(t.id),n=this;return e===!1?(this.ds._models.push(new u({attrs:{id:t.id,name:t.name},model:n})),this.ds._models.index.push(t.id),t):void 0}},{key:"update",value:function(t){var e=t.id,n=t.attrs,r=this.ds.exist(e);r!==!1&&angular.extend(this.ds.get(r).attrs,n)}},{key:"add",value:function(t){var e=this.ds.find(t.id),n=t.id;return e?this.update({id:n,attrs:e}):this.create(t)}},{key:"destroy",value:function(t){var e=this;return new Promise(function(n,r){var i=e.ds.exist(t);i!==!1?(n(angular.copy(e.ds.get(i))),e.ds._models.splice(i,1),e.ds._models.index.splice(i,1)):r()})}},{key:"all",get:function(){return this.ds.all}},{key:"any",get:function(){return this.ds.any}},{key:"first",get:function(){return this.ds.first}},{key:"last",get:function(){return this.ds.last}},{key:"size",get:function(){return this.ds.size}}]),t}();t.exports=a},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){var r=e.attrs,i=e.model;n(this,t),this.attrs=r,this.model=i}return r(t,[{key:"update",value:function(t){var e=t.id,n=t.attrs;return this.model.update({id:e,attrs:n})}},{key:"destroy",value:function(){return this.model.destroy(this.attrs.id)}},{key:"fields",get:function(){return this.attrs},set:function(t){var e=angular.copy(t);delete e.id,angular.extend(this.attrs,e)}}]),t}();t.exports=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._models=e||[],this._models.index=this._models.map(function(t){return t.id})}return r(t,[{key:"get",value:function(t){return this.any?this.all[t]:!1}},{key:"exist",value:function(t){var e=this._models.index.indexOf(t);return-1!=e?e:!1}},{key:"find",value:function(t){var e=this.exist(t);return e!==!1?this.get(e):!1}},{key:"all",get:function(){return this._models}},{key:"size",get:function(){return this.all.length}},{key:"any",get:function(){return this.size>0}}]),t}();t.exports=i}]);